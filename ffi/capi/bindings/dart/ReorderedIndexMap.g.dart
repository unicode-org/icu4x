// generated by diplomat-tool

// https://github.com/dart-lang/sdk/issues/53946
// ignore_for_file: non_native_function_type_argument_to_pointer

part of 'lib.g.dart';

/// Thin wrapper around a vector that maps visual indices to source indices
///
/// `map[visualIndex] = sourceIndex`
///
/// Produced by `reorder_visual()` on [`Bidi`].
final class ReorderedIndexMap implements ffi.Finalizable {
  final ffi.Pointer<ffi.Opaque> _underlying;

  ReorderedIndexMap._(this._underlying) {
    _finalizer.attach(this, _underlying.cast());
  }

  static final _finalizer = ffi.NativeFinalizer(_capi('ICU4XReorderedIndexMap_destroy'));

  /// Get this as a slice/array of indices
  core.List<int> get asSlice {
    final result = _ICU4XReorderedIndexMap_as_slice(_underlying);
    return core.Iterable.generate(result._length).map((i) => result._pointer[i]).toList(growable: false);
  }

  // ignore: non_constant_identifier_names
  static final _ICU4XReorderedIndexMap_as_slice =
    _capi<ffi.NativeFunction<_SliceSize Function(ffi.Pointer<ffi.Opaque>)>>('ICU4XReorderedIndexMap_as_slice')
      .asFunction<_SliceSize Function(ffi.Pointer<ffi.Opaque>)>(isLeaf: true);

  /// The length of this map
  int get length {
    final result = _ICU4XReorderedIndexMap_len(_underlying);
    return result;
  }

  // ignore: non_constant_identifier_names
  static final _ICU4XReorderedIndexMap_len =
    _capi<ffi.NativeFunction<ffi.Size Function(ffi.Pointer<ffi.Opaque>)>>('ICU4XReorderedIndexMap_len')
      .asFunction<int Function(ffi.Pointer<ffi.Opaque>)>(isLeaf: true);

  /// Whether this map is empty
  bool get isEmpty {
    final result = _ICU4XReorderedIndexMap_is_empty(_underlying);
    return result;
  }

  // ignore: non_constant_identifier_names
  static final _ICU4XReorderedIndexMap_is_empty =
    _capi<ffi.NativeFunction<ffi.Bool Function(ffi.Pointer<ffi.Opaque>)>>('ICU4XReorderedIndexMap_is_empty')
      .asFunction<bool Function(ffi.Pointer<ffi.Opaque>)>(isLeaf: true);

  /// Get element at `index`. Returns 0 when out of bounds
  /// (note that 0 is also a valid in-bounds value, please use `len()`
  /// to avoid out-of-bounds)
  int operator [](int index) {
    final result = _ICU4XReorderedIndexMap_get(_underlying, index);
    return result;
  }

  // ignore: non_constant_identifier_names
  static final _ICU4XReorderedIndexMap_get =
    _capi<ffi.NativeFunction<ffi.Size Function(ffi.Pointer<ffi.Opaque>, ffi.Size)>>('ICU4XReorderedIndexMap_get')
      .asFunction<int Function(ffi.Pointer<ffi.Opaque>, int)>(isLeaf: true);
}
