# This file is part of ICU4X. For terms of use, please see the file
# called LICENSE at the top level of the ICU4X source tree
# (online at: https://github.com/unicode-org/icu4x/blob/main/LICENSE ).

extend = [{ path = "./tools/scripts/data.toml"}, { path = "./tools/scripts/valgrind.toml"},
          { path = "./tools/scripts/tidy.toml"}, { path = "./tools/scripts/wasm.toml"},
          { path = "./tools/scripts/tests.toml"}]

[config]
default_to_workspace = false
load_cargo_aliases = true


[tasks.test-ffi]
description = "Run FFI tests"
category = "ICU4X Development"
dependencies = [
    "test-capi",
    "test-cpp",
]

[tasks.quick]
description = "Run quick version of all lints and tests"
category = "ICU4X Development"
dependencies = [
    "test-all",
    "fmt-check",
    "clippy-all",
    "license-header-check",
    "generated-readme-check",
    "test-ffi",
]

[tasks.ci]
description = "Run all lints and tests"
category = "ICU4X Development"
dependencies = [
    "quick",
    "test-docs-defaults",
    "test-docs",
    "build-all-features",
    "bincode-gen-testdata",
]
