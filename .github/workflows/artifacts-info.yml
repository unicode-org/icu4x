# This file is part of ICU4X. For terms of use, please see the file
# called LICENSE at the top level of the ICU4X source tree
# (online at: https://github.com/unicode-org/icu4x/blob/main/LICENSE ).

##### README #####
#
# The CI action prints links to uploaded artifacts built via "artifacts-build.yml".

name: Artifacts

on:
  pull_request:
    branches: ["*"]

jobs:
  docs:
    name: "Docs Preview"
    runs-on: "ubuntu-latest"
    env:
      GCP_PROJECT_ID: "dev-infra-273822"
      GCP_BUCKET_ID: "icu4x-pr-artifacts"
    steps:
    - name: "‚≠ê‚≠ê‚≠ê Links to Uploaded Artifacts ‚≠ê‚≠ê‚≠ê"
      run: |
        echo "::group::üîí Credentials Info"
        echo "The following artifacts are built and uploaded in forks containing the ICU4X service account key as \`secrets.ICU4X_GCP_SA_KEY\`. If you are a frequent contributor, you may request the key from icu4x-core@unicode.org."
        echo "::endgroup::"
        echo "::group::üìñ Docs Preview"
        echo "It may take a few minutes for the following link to be available."
        echo "http://${{ env.GCP_BUCKET_ID }}.storage.googleapis.com/gha/${{ github.event.pull_request.head.sha }}/docs/icu/index.html"
        echo "::endgroup::"
